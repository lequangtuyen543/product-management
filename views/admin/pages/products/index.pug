extends ../../layouts/default.pug
include ../../mixins/filterStatus.pug
include ../../mixins/search.pug

block main
  h1 Page Products

  card.mb-3   
    .card-header Filter and Search
    .card-body.row
      .col-6
        +filterStatus(filterStatus)
      .col-6
        +search(keyword)

  table.table.table-hover.table-sm 
    thead.thead-dark
      tr
        th(scope="col") #
        th(scope="col") Name
        th(scope="col") Price
        th(scope="col") Image
        th(scope="col") Status
        th(scope="col") Actions
    tbody
      each item, index in products
        tr
          th(scope="row") #{index + 1}
          td #{item.title}
          td $#{item.price}
          td 
            img(src=item.thumbnail, alt=item.title width="100" height="100")
          td 
            if item.status == 'active'
              a.badge.badge-success #{item.status}
            else  
              a.badge.badge-danger #{item.status}
          td 
            button.btn.btn-sm.btn-primary Edit
            button.btn.btn-sm.btn-danger Delete
  
  nav 
    ul.pagination 
      if(pagination.currentPage == 1)
        li.page-item.disabled 
          button.page-link Prev
      else
        li.page-item 
          button.page-link(
            button-pagination=pagination.currentPage-1
          ) Prev

      - for(var i = 1; i <= pagination.totalPages; i++)      
        li(class= i == pagination.currentPage ? 'page-item active' : 'page-item') 
          button.page-link(button-pagination=i) #{i}  
      
      if(pagination.currentPage == pagination.totalPages)
        li.page-item.disabled 
          button.page-link Next
      else
        li.page-item 
          button.page-link(
            button-pagination=pagination.currentPage+1
          ) Prev