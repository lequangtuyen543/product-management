mixin table-tree(items, level=1)
  each item, index in items
    - const prefix = Array(level + 1).join('-- ')
    tr
      td 
        input(
          type="checkbox" 
          name="id" 
          value=item.id 
        )
      th(scope="row") #{item.index}
      td #{prefix}#{item.title}
      td 
        input(
          type="number" 
          name="position" 
          value=item.position 
          style="width: 60px;"
          min="1"
        )
      td 
        img(src=item.thumbnail, alt=item.title width="100" height="100")
      td 
        if(role.permissions.includes('products-category_edit')) 
          if item.status == 'active'
            a.badge.badge-success(
              href="javascript:;"
              data-status=item.status
              data-id=item.id
              button-change-status
            ) #{item.status}
          else  
            a.badge.badge-danger(
              href="javascript:;"
              data-status=item.status
              data-id=item.id
              button-change-status
            ) #{item.status}
      td 
        a.btn.btn-sm.btn-secondary(href=`${prefixAdmin}/products-category/detail/${item.id}`) Detail
        if(role.permissions.includes('products-category_edit')) 
          a.btn.btn-sm.btn-warning(href=`${prefixAdmin}/products-category/edit/${item.id}`) Edit
        if(role.permissions.includes('products-category_delete')) 
          button.btn.btn-sm.btn-danger(data-id=item.id button-delete) Delete
    if item.children && item.children.length > 0
      +table-tree(item.children, level +1)